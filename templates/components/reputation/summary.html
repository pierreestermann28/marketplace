{# props: stats, label="Vendeur" #}
{% load profile_tags %}

{% if stats %}
  <div class="rounded-2xl border border-ink-100 bg-white/70 px-4 py-3 text-sm text-ink-600">
    {% if stats.seller_rating_count %}
      <div class="flex items-center gap-1 text-ink-900">
        <div class="flex items-center gap-1 text-yellow-500">
          {% for star_state in stats.seller_rating_avg|rating_stars %}
            {% if star_state == "full" %}
              <i data-lucide="star" class="h-4 w-4" aria-hidden="true"></i>
            {% elif star_state == "half" %}
              <i data-lucide="star-half" class="h-4 w-4" aria-hidden="true"></i>
            {% else %}
              <i data-lucide="star" class="h-4 w-4 text-ink-200" aria-hidden="true"></i>
            {% endif %}
          {% endfor %}
        </div>
        <span class="text-xs font-semibold text-ink-900">
          ({{ stats.seller_rating_avg|default:0|floatformat:1 }})
        </span>
      </div>
      <span class="text-xs uppercase tracking-[0.3em] text-ink-500">
        {{ stats.seller_rating_count }} avis
      </span>
    {% else %}
      <div class="text-xs text-ink-500 uppercase tracking-[0.3em]">Pas encore d'avis vendeur</div>
    {% endif %}
    <div class="text-xs text-ink-500">
      {{ stats.items_sold_count|default:0 }} objet{% if stats.items_sold_count|default:0 > 1 %}s{% endif %} vendus
    </div>
    {% if stats.buyer_rating_count %}
      <div class="text-xs text-ink-500 mt-1">
        {{ stats.buyer_rating_avg|default:0|floatformat:1 }}/5 ({{ stats.buyer_rating_count }} Ã©valuations acheteur)
      </div>
    {% else %}
      <div class="text-xs text-ink-500 mt-1">Pas encore d'avis acheteur</div>
    {% endif %}
  </div>
{% endif %}
